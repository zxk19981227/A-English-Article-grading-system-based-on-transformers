(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56dd023c"],{"073a":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[i("div",[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.showAddEmpView}},[t._v("\n                    添加地图\n                ")])],1)]),i("el-table",{attrs:{data:t.maps,border:"",stripe:"",size:"mini"}},[i("el-table-column",{attrs:{type:"selection",align:"left",width:"55"}}),i("el-table-column",{attrs:{prop:"id",label:"编号",fixed:"",width:"120",align:"left"}}),i("el-table-column",{attrs:{prop:"map_name",label:"名称",width:"120",align:"left"}}),i("el-table-column",{attrs:{prop:"view",label:"预览",width:"200",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(i){return t.init(e.row)}}},[t._v("查看地图")])]}}])}),i("el-table-column",{attrs:{prop:"detail",label:"详情",width:"120",align:"left"}}),i("el-table-column",{attrs:{prop:"longitude",label:"地图经度",width:"120",align:"left"}}),i("el-table-column",{attrs:{prop:"altitude",label:"地图维度",width:"120",align:"left"}}),i("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(i){return t.showEditEmpView(e.row)}}},[t._v("编辑")]),i("el-button",{staticStyle:{padding:"3px"},attrs:{size:"mini"},on:{click:function(i){return t.deletemap(e.row)}}},[t._v("\n                        删除地图\n                    ")])]}}])},[t._v("da\n\n            ")])],1),t._m(0),i("div",{staticStyle:{display:"flex","justify-content":"flex-end,width:40%",height:"40%"}},[i("el-pagination",{attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:t.total},on:{"size-change":t.sizeChange,"current-change":t.currentChange}})],1)],1),i("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,width:"80%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("div",[i("el-form",{ref:"empForm",attrs:{model:t.emp,rules:t.rules}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"名称:",prop:"map_name"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"输入心得标题"},model:{value:t.emp.map_name,callback:function(e){t.$set(t.emp,"map_name",e)},expression:"emp.map_name"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"经度:",prop:"longitude"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入地图经度"},model:{value:t.emp.longitude,callback:function(e){t.$set(t.emp,"longitude",e)},expression:"emp.longitude"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"纬度:",prop:"altitude"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入地图纬度"},model:{value:t.emp.altitude,callback:function(e){t.$set(t.emp,"altitude",e)},expression:"emp.altitude"}})],1)],1)],1),i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"详细信息:",prop:"detail"}},[i("el-input",{staticStyle:{width:"150px"},attrs:{size:"mini","prefix-icon":"el-icon-edit",placeholder:"请输入详细信息"},model:{value:t.emp.detail,callback:function(e){t.$set(t.emp,"detail",e)},expression:"emp.detail"}})],1)],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:t.doAddEmp}},[t._v("确 定")])],1)])],1)},l=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"box",staticStyle:{display:"flex,justify-content:flex-end"}},[i("div",{staticStyle:{width:"1500px",height:"600px"},attrs:{id:"container"}})])}],a={name:"Map",data:function(){return{maps:[],total:0,title:"",dialogVisible:!1,currentPage:1,currentSize:10,currentSalary:null,emp:{name:"北京五道口",altitude:"",longitude:"",detail:"宇宙中心"}}},mounted:function(){this.initEmps()},methods:{showEditEmpView:function(t){this.title="编辑心得信息",this.emp=t,this.dialogVisible=!0},init:function(t){window.location.href="http://localhost:8080/map.html?lat="+t.altitude+"&lon="+t.longitude+"&zoom=17.4&tilt=0.0&rotation=0.0"},deletemap:function(t){var e=this;this.$confirm("此操作将永久删除【"+t.altitude+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteRequest("/map/"+t.id).then((function(t){t&&e.initEmps()}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},doAddEmp:function(){var t=this;this.emp.id?this.$refs["empForm"].validate((function(e){e&&t.putRequest("/map/",t.emp).then((function(e){e&&(t.dialogVisible=!1,t.initEmps())}))})):this.$refs["empForm"].validate((function(e){e&&t.postRequest("/map/",t.emp).then((function(e){e&&(t.dialogVisible=!1,t.initEmps())}))}))},sizeChange:function(t){this.currentSize=t,this.initEmps()},currentChange:function(t){this.currentPage=t,this.initEmps()},showAddEmpView:function(){this.emptyEmp(),this.title="添加地图",this.getMaxWordID(),this.dialogVisible=!0},getMaxWordID:function(){var t=this;this.getRequest("/map/maxWorkID").then((function(e){e&&(t.emp.workID=e.obj)}))},emptyEmp:function(){this.emp={id:"",name:"",langitude:"",altitude:"",detail:""}},showPop:function(t){this.currentSalary=t?t.id:null},initEmps:function(){var t=this;this.getRequest("/map/?page="+this.currentPage+"&size="+this.currentSize).then((function(e){e&&(t.maps=e.data,t.total=e.total)}))}}},o=a,s=(i("3305"),i("2877")),r=Object(s["a"])(o,n,l,!1,null,"964dd6d4",null);e["default"]=r.exports},3305:function(t,e,i){"use strict";var n=i("a48f"),l=i.n(n);l.a},a48f:function(t,e,i){},e7cd:function(t,e,i){var n={"./Map.vue":"073a"};function l(t){var e=a(t);return i(e)}function a(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}l.keys=function(){return Object.keys(n)},l.resolve=a,t.exports=l,l.id="e7cd"}}]);
//# sourceMappingURL=chunk-56dd023c.634f91ad.js.map